import{L as i}from"./Logo-mPGmAf0v.js";import{b as s,a}from"./TestimonyTranscription-uyMVVO1v.js";class r{constructor(){this.root=document.body,this.isMobile=window.innerWidth<800}}class n{constructor(t,e){this.titleText=t,this.isMobile=e,this.createRoot(),this.createLogo(),this.createTitle(),this.createHr()}createRoot(){this.root=document.createElement("div"),this.root.style.width="100%",this.root.style.backgroundColor="#b0b0ab",this.isMobile||(this.root.style.display="grid",this.root.style.gridTemplateColumns="repeat(4, 25%)"),this.root.style.position="fixed",this.root.style.top="0px",this.root.style.left="0px"}createLogo(){this.logo=new i(this.isMobile?"50%":"100%"),this.root.append(this.logo.img),this.logoLoaded=new Promise((t,e)=>{this.logo.img.addEventListener("load",t)})}createTitle(){let t=document.createElement("div");t.style.margin="5px",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",this.isMobile||(t.style.gridColumn="2 /span 3");let e=document.createElement("h2");e.append(this.titleText),t.append(e),this.root.append(t)}createHr(){let t=document.createElement("div");t.style.gridColumn="1 /span 4";let e=document.createElement("hr");e.style.margin="8px",t.append(e),this.root.append(t)}}class l extends r{constructor(t){super(),this.testimonyMetadata=t,this.createHeader(),this.createAudioPlayer(),this.header.logoLoaded.then(e=>{this.createTranscription()})}createHeader(){let t=new Date(this.testimonyMetadata.date),e=`Recorded ${t.toLocaleString("default",{month:"long"})}, ${t.getUTCFullYear()}`;this.header=new n(e,this.isMobile),this.root.append(this.header.root)}createTranscription(){let t=document.createElement("div");t.style.marginTop=`${this.header.root.offsetHeight}px`,this.isMobile||(t.style.width="100%",t.style.display="grid",t.style.gridTemplateColumns="repeat(4, 25%)");let e=new s(this.testimonyMetadata);e.rootDiv.style.gridColumn="2 / span 2",t.append(e.rootDiv),this.root.append(t)}createAudioPlayer(){let t=new a(this.testimonyMetadata.id);t.audio.style.position="fixed",t.audio.style.bottom="0px",t.audio.style.left="0px",this.root.append(t.audio)}}document.body.style.backgroundColor="#b0b0ab";document.body.style.fontFamily="Arial, Helvetica, sans-serif";document.body.style.boxSizing="box-border";const d=new URLSearchParams(window.location.search),h=Object.fromEntries(d);new l(h);
